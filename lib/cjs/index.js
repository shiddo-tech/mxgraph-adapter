"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("xml-js");function e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function r(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?e(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function n(){n=function(){return e};var t,e={},r=Object.prototype,o=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},l=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function p(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,a=Object.create(o.prototype),l=new j(n||[]);return i(a,"_invoke",{value:O(t,r,l)}),a}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var h="suspendedStart",m="suspendedYield",f="executing",v="completed",y={};function b(){}function g(){}function x(){}var w={};u(w,l,(function(){return this}));var C=Object.getPrototypeOf,E=C&&C(C(A([])));E&&E!==r&&o.call(E,l)&&(w=E);var _=x.prototype=b.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(n,i,a,l){var s=d(t[n],t,i);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&o.call(u,"__await")?e.resolve(u.__await).then((function(t){r("next",t,a,l)}),(function(t){r("throw",t,a,l)})):e.resolve(u).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,l)}))}l(s.arg)}var n;i(this,"_invoke",{value:function(t,o){function i(){return new e((function(e,n){r(t,o,e,n)}))}return n=n?n.then(i,i):i()}})}function O(e,r,n){var o=h;return function(i,a){if(o===f)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var l=n.delegate;if(l){var s=T(l,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var c=d(e,r,n);if("normal"===c.type){if(o=n.done?v:m,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=v,n.method="throw",n.arg=c.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=d(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[l];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function r(){for(;++n<e.length;)if(o.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(typeof e+" is not iterable")}return g.prototype=x,i(_,"constructor",{value:x,configurable:!0}),i(x,"constructor",{value:g,configurable:!0}),g.displayName=u(x,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,u(t,c,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},L(k.prototype),u(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(p(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},L(_),u(_,c,"Generator"),u(_,l,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,o){return l.type="throw",l.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function o(t,e,r,n,o,i,a){try{var l=t[i](a),s=l.value}catch(t){return void r(t)}l.done?e(s):Promise.resolve(s).then(n,o)}function i(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function l(t){o(a,n,i,l,s,"next",t)}function s(t){o(a,n,i,l,s,"throw",t)}l(void 0)}))}}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,s(n.key),n)}}function l(t,e,r){return(e=s(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}!function(t,e){void 0===e&&(e={});var r=e.insertAt;if(t&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===r&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".mxgraph-import-export-toolbar {\n  position: fixed;\n  z-index: 100;\n  bottom: 6px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  gap: 2px;\n  margin: 5px;\n  box-shadow: 0px 0px 5px rgb(162, 162, 162);\n  border-radius: 3px;\n  background-color: #fff;\n}\n.mxgraph-import-export-toolbar:hover:not(:disabled) {\n  background-color: #fffec8;\n}\n.mxgraph-import-export-toolbar:disabled {\n  color: rgba(122, 122, 122, 0.5);\n  cursor: not-allowed;\n}\n.mxgraph-import-export-toolbar .btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 30px;\n  height: 30px;\n  margin: 5px;\n  border: none;\n  font-size: 26px;\n  cursor: pointer;\n  color: rgb(122, 122, 122);\n  background-color: transparent;\n}\n.mxgraph-import-export-toolbar .btn svg {\n  flex-shrink: 0;\n}\n\n.mxgraph-import-export-adapter-modal {\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.45);\n}\n.mxgraph-import-export-adapter-modal .card-modal {\n  position: relative;\n  width: 400px;\n  padding: 20px 24px;\n  font-family: -apple-system, BlinkMacSystemFont, segoe ui, Roboto, helvetica neue, Arial, noto sans, sans-serif;\n  font-size: 14px;\n  line-height: 20px;\n  border: 0;\n  border-radius: 8px;\n  color: rgba(0, 0, 0, 0.88);\n  background-color: #fff;\n}\n.mxgraph-import-export-adapter-modal .card-modal__actions {\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 12px;\n}\n.mxgraph-import-export-adapter-modal .card-modal .confirm-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 32px;\n  min-width: 75px;\n  padding: 4px 15px;\n  font-size: 14px;\n  border: 1px solid #d9d9d9;\n  border-radius: 6px;\n  background-color: #fff;\n  outline: none;\n  cursor: pointer;\n}\n.mxgraph-import-export-adapter-modal .card-modal .confirm-button:hover {\n  color: #4096ff;\n  border-color: #4096ff;\n}");var c={exportTitle:"Exportar diagrama da plataforma Governance",importTitle:"Importar diagrama da plataforma Governance",importTitleDisabled:"Não é possível importar o diagrama da plataforma Governance, pois o diagrama já foi iniciado",emptyFile:"Arquivo em branco",invalidFile:"Arquivo inválido",containNoCells:"Não foram encontradas células para serem importadas",errorImportingFile:"Erro ao importar arquivo",errorExportingFile:"Erro ao exportar arquivo",modalSuccessMessage:"O diagrama foi importado da plataforma Governance com sucesso e sem nenhuma incompatibilidade detectada.",modalErrorMessage:'O diagrama foi importado da plataforma Governance com incompatibilidades. Clique em "Ok" para baixar o relatório',modalSuccessButtonOk:"Ok",modalErrorButtonOk:"Ok"};function u(t){c=r(r({},c),t)}function p(){return c}var d="GOVERNANCE",h="STUDIO",m={MODELER:"mdr"},f={EMPTY_FILE:"EMPTY_FILE",INVALID_FILE:"INVALID_FILE",INVALID_DATA:"INVALID_DATA",CONTAIN_NO_CELLS:"CONTAIN_NO_CELLS"};function v(t){return t.replaceAll("\n","&#xA;")}function y(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{compact:!0,spaces:4};if(e)return JSON.parse(t.xml2json(e,r(r({},n),{},{attributeValueFn:v})))}function b(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{compact:!0,spaces:4};if(e)return t.json2xml(e,r)}function g(t){var e=function(t){var e=(new window.mxCodec).encode(t.getModel());return e.getElementsByTagName("root")[0].setAttribute("version","1.1"),e}(t);return mxUtils.getXml(e)}function x(t){return new Promise((function(e){var r=t.target,n=t.target.files[0],o=new FileReader;o.onload=function(t){var n;(n=r).parentElement.removeChild(n),e(t.target.result)},o.readAsText(n)}))}function w(t){var e=t.hasUnsupported,r=t.importedCellsReport,n=p();C(e?{content:n.modalErrorMessage,okButtonText:n.modalErrorButtonOk,onOk:function(){!function(t){var e=t.rows,r=void 0===e?[]:e,n=t.fileName,o=void 0===n?"report.csv":n;if(r.length){var i="data:text/csv;charset=utf-8,"+r.map((function(t){return t.join(",")})).join("\n"),a=encodeURI(i),l=document.createElement("a");l.setAttribute("href",a),l.setAttribute("download","".concat(o,".csv")),document.body.appendChild(l),l.click(),document.body.removeChild(l)}}({rows:r,fileName:"governance-imported-cells"})}}:{content:n.modalSuccessMessage,okButtonText:n.modalSuccessButtonOk})}function C(t){var e=t.content,r=t.okButtonText,n=t.onOk,o=document.createElement("div");o.classList="mxgraph-import-export-adapter-modal",o.innerHTML='\n    <div class="card-modal">\n        '.concat(e,'\n        <div class="card-modal__actions">\n            <button class="confirm-button">').concat(r,"</button>\n        </div>\n    </div>\n    "),document.body.appendChild(o),document.querySelector(".mxgraph-import-export-adapter-modal .card-modal .confirm-button").addEventListener("click",(function(){null==n||n(),document.body.removeChild(o)}))}function E(t){return null==t?void 0:t.replaceAll("&#xA;"," ")}var _=d,L=h;function k(t){var e=t.mxCells,r=t.metadata,n=t.consumer,o=r.app;if(r.diagramType,r.version,o._text===_&&n===L){var i=["markerPoint","marker-ad-hoc","marker-compensation","marker-sequential-mi","marker-parallel-mi"],a=["DATA_STORE","WORKFLOW_INTERFACE","INTERMEDIATE_EVENT"],l=!1,s=[["Tipo do elemento","Valor","Status"]],c=e.filter((function(t){var e;return!i.includes(null===(e=t._attributes)||void 0===e?void 0:e.style)}));return c=c.map((function(t){var e=(null==t?void 0:t._attributes)||{},r=e.type,n=e.value,o=e.style,i=n||"";return"TASK"===r?function(t){var e=t.cell,r=t.importedCellsReport,n=(null==e?void 0:e._attributes)||{},o=n.subType,i=n.style,a=n.value;["script","none"].includes(o)?r.push([i,E(a),"Importado"]):(e._attributes.style="task",e._attributes.subType="none",r.push([i,E(a),"Adaptado"]));return O(e)}({cell:t,importedCellsReport:s}):"GATEWAY"===r?function(t){var e=t.cell,r=t.importedCellsReport,n=(null==e?void 0:e._attributes)||{},o=n.subType,i=n.style,a=n.value;["none","inclusive","event-based"].includes(o)?(e._attributes.style="gateway-exclusive",e._attributes.subType="exclusive",r.push([i,E(a),"Adaptado"])):r.push([i,E(a),"Importado"]);return O(e)}({cell:t,importedCellsReport:s}):"START_EVENT"===r?function(t){var e=t.cell,r=t.importedCellsReport,n=(null==e?void 0:e._attributes)||{},o=n.subType,i=n.style,a=n.value;["none"].includes(o)?r.push([i,E(a),"Importado"]):(e._attributes.style="start-event",e._attributes.subType="none",r.push([i,E(a),"Adaptado"]));return e.mxGeometry._attributes.width=32,e.mxGeometry._attributes.height=32,O(e)}({cell:t,importedCellsReport:s}):"END_EVENT"===r?function(t){var e=t.cell,r=t.importedCellsReport,n=(null==e?void 0:e._attributes)||{},o=n.style,i=n.value;return e._attributes.style="end-event-terminate",e._attributes.subType="none",e.mxGeometry._attributes.width=32,e.mxGeometry._attributes.height=32,r.push([o,E(i),"Adaptado"]),O(e)}({cell:t,importedCellsReport:s}):("marker-loop"===o&&(t._attributes.style="attribute-loop"),"lane"===o?function(t){var e=t.cell,r=t.importedCellsReport,n=(null==e?void 0:e._attributes)||{},o=n.style,i=n.value;return r.push([o,E(i),"Importado"]),O(e)}({cell:t,importedCellsReport:s}):("annotation"===o&&s.push([o,E(n),"Importado"]),a.includes(r)&&(t._attributes.value=i,t._attributes.style="unsupported",t._attributes.subType="none",t.mxGeometry._attributes.width=125,t.mxGeometry._attributes.height=60,s.push([o,E(n),"Não suportado"]),l=!0),t))})),w({hasUnsupported:l,importedCellsReport:s}),c}return e}function O(t){return{_attributes:{id:t._attributes.id,value:t._attributes.value||"",style:t._attributes.style,vertex:t._attributes.vertex,parent:t._attributes.parent},mxGeometry:{_attributes:{as:t.mxGeometry._attributes.as,x:t.mxGeometry._attributes.x,y:t.mxGeometry._attributes.y,width:t.mxGeometry._attributes.width,height:t.mxGeometry._attributes.height}}}}function T(t){return N.apply(this,arguments)}function N(){return N=i(n().mark((function t(e){var r,o,a,l,s,c,u,p;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.consumer,t.next=3,new Promise((function(t){var e=document.createElement("input");e.type="file",e.style.display="none",e.accept=".".concat(m.MODELER),e.onchange=function(){var e=i(n().mark((function e(r){var o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(r);case 2:o=e.sent,t(o);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),document.body.appendChild(e),e.click()}));case 3:if(o=t.sent,a=y(o)){t.next=7;break}throw new Error(f.EMPTY_FILE);case 7:if(l=a.modeler||{},s=l.metadata,c=l.mxGraphModel,u=(null==s?void 0:s.app)&&(null==s?void 0:s.diagramType)&&(null==s?void 0:s.version),p=null==c?void 0:c.root,u&&p){t.next=12;break}throw new Error(f.INVALID_FILE);case 12:if(Object.keys(c.root.mxCell||{}).length){t.next=15;break}throw new Error(f.CONTAIN_NO_CELLS);case 15:return c.root.mxCell=k({mxCells:c.root.mxCell,metadata:s,consumer:r}),t.abrupt("return",b({mxGraphModel:c}));case 17:case"end":return t.stop()}}),t)}))),N.apply(this,arguments)}function I(t){var e=t.xml,r=void 0===e?"":e,n=t.metadata,o=y(r);if(!o)throw new Errorr(f.EMPTY_FILE);!function(t){var e=t.filename,r=t.content,n=t.extension,o=void 0===n?"xml":n,i=t.type,a=new Blob([r],{type:void 0===i?"application/xml":i}),l=window.URL.createObjectURL(a),s=document.createElement("a");s.href=l,s.download="".concat(e,".").concat(o),s.click()}({filename:"workflow",content:b({modeler:Object.assign({metadata:n},o)}),extension:m.MODELER})}var j=d,A=h,M={timeout:4e3,progressBar:!0},G=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,"app",null),l(this,"version",null),l(this,"diagramType",null),l(this,"graph",null),l(this,"renderGraph",null),l(this,"toolbar",null),l(this,"importButton",null),l(this,"exportButton",null),l(this,"notification",null),l(this,"notificationOptions",{})}var e,o,s,c;return e=t,o=[{key:"init",value:function(t){var e=t.app,r=t.version,n=t.diagramType,o=t.graph,i=t.renderGraph,a=t.notification,l=t.notificationOptions,s=t.customClass,c=void 0===s?"":s,p=t.messages,d=void 0===p?{}:p,h=t.targetContainer,m=void 0===h?"body":h,f=t.targetContainersFirstChild,v=void 0===f||f;if(this.app=e,this.version=r,this.diagramType=n,this.graph=o,this.notification=a,this.notificationOptions=l||{},this.renderGraph=i,this.initialCellsNumber=Object.keys(this.graph.model.cells).length,u(d),!this.graph)throw new Error("Graph not found");if(!this.app)throw new Error("App not found");if(!this.renderGraph)throw new Error("Render graph not found");if(!this.notification)throw new Error("Notification system not found");"bpmn"===this.diagramType?this.createToolbar({customClass:c,targetContainer:m,targetContainersFirstChild:v}):console.warn("Unsupported ".concat(this.diagramType))}},{key:"destroy",value:function(){this.toolbar&&this.toolbar.parentElement.removeChild(this.toolbar)}},{key:"canImportFile",value:function(){var t=Object.keys(this.graph.model.cells).length;return this.app===A?2===this.initialCellsNumber&&2===t:this.initialCellsNumber<=5&&t<=5}},{key:"createToolbar",value:function(t){var e=t.targetContainer,r=t.targetContainersFirstChild,n=t.customClass,o=p();this.toolbar=document.createElement("div"),this.toolbar.classList.add("mxgraph-import-export-toolbar"),n&&this.toolbar.classList.add(n);var i=this.canImportFile();this.app===A&&(this.importButton=document.createElement("button"),this.importButton.classList.add("import-button","btn"),this.importButton.title=i?o.importTitle:o.importTitleDisabled,this.importButton.innerHTML='\n        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path d="M29.06 14.3607L31.56 12M31.56 12L34.06 14.3607M31.56 12L31.56 21" stroke="black" stroke-width="1.5"/>\n          <path d="M11.86 19.14H10.04V17.48C10.04 17.24 10 17.0867 9.92 17.02C9.84 16.94 9.68 16.9 9.44 16.9H8.42C8.18 16.9 8.02 16.94 7.94 17.02C7.86 17.0867 7.82 17.24 7.82 17.48V26.02C7.82 26.26 7.86 26.42 7.94 26.5C8.02 26.5667 8.18 26.6 8.42 26.6H9.44C9.68 26.6 9.84 26.5667 9.92 26.5C10 26.42 10.04 26.26 10.04 26.02V22.96H9.04V21.56H11.86V26.24C11.86 27.4267 11.24 28.02 10 28.02H7.86C6.62 28.02 6 27.4267 6 26.24V17.24C6 16.0667 6.62 15.48 7.86 15.48H10C11.24 15.48 11.86 16.0667 11.86 17.24V19.14Z" fill="black"/>\n          <path d="M15.5167 15.48H17.7367C18.9767 15.48 19.5967 16.0667 19.5967 17.24V26.24C19.5967 27.4133 18.9767 28 17.7367 28H15.5167C14.2634 28 13.6367 27.4133 13.6367 26.24V17.24C13.6367 16.0667 14.2634 15.48 15.5167 15.48ZM17.7967 25.96V17.52C17.7967 17.28 17.7567 17.1267 17.6767 17.06C17.5967 16.98 17.4367 16.94 17.1967 16.94H16.0367C15.7967 16.94 15.6367 16.98 15.5567 17.06C15.4901 17.1267 15.4567 17.28 15.4567 17.52V25.96C15.4567 26.2 15.4901 26.36 15.5567 26.44C15.6367 26.5067 15.7967 26.54 16.0367 26.54H17.1967C17.4367 26.54 17.5967 26.5067 17.6767 26.44C17.7567 26.36 17.7967 26.2 17.7967 25.96Z" fill="black"/>\n          <path d="M25.8683 15.48H27.7283L25.4683 28H22.9083L20.6483 15.48H22.5083L24.1683 26.34L25.8683 15.48Z" fill="black"/>\n        </svg>      \n      ',this.toolbar.appendChild(this.importButton),this.importButton.addEventListener("click",this.onClickImportButton.bind(this))),this.app===j&&(this.exportButton=document.createElement("button"),this.exportButton.classList.add("export-button","btn"),this.exportButton.title=o.exportTitle,this.exportButton.innerHTML='\n        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path d="M34.06 18.6393L31.56 21M31.56 21L29.06 18.6393M31.56 21L31.56 12" stroke="black" stroke-width="1.5"/>\n          <path d="M11.86 19.14H10.04V17.48C10.04 17.24 10 17.0867 9.92 17.02C9.84 16.94 9.68 16.9 9.44 16.9H8.42C8.18 16.9 8.02 16.94 7.94 17.02C7.86 17.0867 7.82 17.24 7.82 17.48V26.02C7.82 26.26 7.86 26.42 7.94 26.5C8.02 26.5667 8.18 26.6 8.42 26.6H9.44C9.68 26.6 9.84 26.5667 9.92 26.5C10 26.42 10.04 26.26 10.04 26.02V22.96H9.04V21.56H11.86V26.24C11.86 27.4267 11.24 28.02 10 28.02H7.86C6.62 28.02 6 27.4267 6 26.24V17.24C6 16.0667 6.62 15.48 7.86 15.48H10C11.24 15.48 11.86 16.0667 11.86 17.24V19.14Z" fill="black"/>\n          <path d="M15.5167 15.48H17.7367C18.9767 15.48 19.5967 16.0667 19.5967 17.24V26.24C19.5967 27.4133 18.9767 28 17.7367 28H15.5167C14.2634 28 13.6367 27.4133 13.6367 26.24V17.24C13.6367 16.0667 14.2634 15.48 15.5167 15.48ZM17.7967 25.96V17.52C17.7967 17.28 17.7567 17.1267 17.6767 17.06C17.5967 16.98 17.4367 16.94 17.1967 16.94H16.0367C15.7967 16.94 15.6367 16.98 15.5567 17.06C15.4901 17.1267 15.4567 17.28 15.4567 17.52V25.96C15.4567 26.2 15.4901 26.36 15.5567 26.44C15.6367 26.5067 15.7967 26.54 16.0367 26.54H17.1967C17.4367 26.54 17.5967 26.5067 17.6767 26.44C17.7567 26.36 17.7967 26.2 17.7967 25.96Z" fill="black"/>\n          <path d="M25.8683 15.48H27.7283L25.4683 28H22.9083L20.6483 15.48H22.5083L24.1683 26.34L25.8683 15.48Z" fill="black"/>\n        </svg>\n      ',this.toolbar.appendChild(this.exportButton),this.exportButton.addEventListener("click",this.onClickExportButton.bind(this)));var a=document.querySelector(e);a?r?a.prepend(this.toolbar):a.appendChild(this.toolbar):console.warn("Mxgraph import export toolbar target container not found")}},{key:"onClickImportButton",value:(c=i(n().mark((function t(){var e,r,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=p(),t.prev=1,this.canImportFile()){t.next=5;break}return this.showError(e.importTitleDisabled),t.abrupt("return");case 5:return t.next=7,T({consumer:this.app});case 7:r=t.sent,this.renderGraph(r),t.next=18;break;case 11:t.prev=11,t.t0=t.catch(1),o=e.errorImportingFile,t.t0.message===f.EMPTY_FILE&&(o=e.emptyFile||o),t.t0.message===f.INVALID_FILE&&(o=e.invalidFile||o),t.t0.message===f.CONTAIN_NO_CELLS&&(o=e.containNoCells||o),this.showError(o);case 18:case"end":return t.stop()}}),t,this,[[1,11]])}))),function(){return c.apply(this,arguments)})},{key:"showError",value:function(t){this.notification.error(r(r(r({},M),this.notificationOptions),{},{message:t}))}},{key:"onClickExportButton",value:function(){var t=p();try{I({xml:g(this.graph),metadata:{app:this.app,version:this.version,diagramType:this.diagramType}})}catch(e){this.showError(t.errorExportingFile)}}}],o&&a(e.prototype,o),s&&a(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}(),V=new G;exports.toolbar=V;
//# sourceMappingURL=index.js.map
